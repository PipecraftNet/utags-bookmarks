1. **初始化同步**

   - 设备注册 (生成设备唯一ID)
   - 密钥交换 (Diffie-Hellman)
   - 全量数据加密传输

2. **增量同步**

   - 本地变更检测 (IndexedDB监听)
   - 生成操作序列 (JSON Patch)
   - 压缩加密传输
   - 服务端冲突检测
   - 客户端合并策略

3. **冲突解决**
   - 基于时间戳的最终写入获胜(LWW)
   - 手动合并界面 (冲突可视化)
   - 操作转换(OT)保证一致性
